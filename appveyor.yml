image:
- Visual Studio 2013
- Visual Studio 2019

# environment:
#   matrix:
#     - PSCMD: ps
#     - PSCMD: pwsh

for:
- matrix:
    only:
      - image: Visual Studio 2013
  build_script:
    - ps: $PSVersionTable

- matrix:
    only:
      - image: Visual Studio 2013
  build_script:
    - pwsh: $PSVersionTable
  # exclude:
  #   - image: Visual Studio 2013
  #     PSEXE: pwsh

# version: 0.0.0+{build}

# skip_tags: true

# skip_branch_with_pr: true

# build:
#   verbosity: minimal

# test: off

# image:
# # TODO: Get builds working on these images.
# - macOS
# - Ubuntu
# - Visual Studio 2013
# - Visual Studio 2015
# - Visual Studio 2019
# - Visual Studio 2022

# environment:
#   matrix:
#   - EDITION: ps
#   - EDITION: pwsh

# artifacts:
# - path: .output\*.zip
#   name: GitHub
# - path: .output\*.nupkg
#   name: PowerShellGallery
# - path: .output\*

# for:
# # Build in Windows PowerShell
# - matrix:
#     only:
#     - image: Visual Studio 2013
#     - image: Visual Studio 2019
#   build_script:
#   - ps: $PSVersionTable


# Build in PowerShell
# - matrix:
#     except:
#     - image: Visual Studio 2013
#   build_script:
#   - pwsh: $PSVersionTable

